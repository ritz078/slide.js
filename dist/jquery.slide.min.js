/*
 *  slide-js - v0.0.0
 *  A jQuery plugin to slide HTML elements.
 *  http://riteshkr.com/slide.js
 *
 *  Made by Ritesh Kumar
 *  Under MIT License
 */
!function(a,b){"use strict";function c(b,c){this.$element=a(b),this.settings=a.extend({},e,c),this._defaults=e,this._name=d,this.init()}var d="SlideJS",e={autoplay:!1,autoplaySpeed:3e3,transitionSpeed:200,arrows:!0,firstElement:1,dots:!0,loop:!1,lazyLoad:!1,pauseOnHover:!0,keyboard:!0};a.extend(c.prototype,{init:function(){var b=this;b.totalWidth=b.settings.loop?3*b.getWidth():b.getWidth(),b.$ul=b.$element.find("ul"),b.items=b.$element.find("li"),b.length=b.items.length,b.$currElem=a(b.items[0]),b.addIds(),b.$element.addClass("slide-js-wrapper").find("ul").css("width",b.totalWidth+"px").wrap('<div class="slide-js-list"></div>'),b.settings.loop&&b.loop(),b.$slider=b.$element.find(".slide-js-list"),b.settings.arrows&&(b.listenToArrowEvents(),b.disableArrows()),b.settings.dots&&(b.initDots(),b.listenToDotEvents()),b.initElement(b.$currElem),b.settings.autoplay&&b.autoplay(),b.lazyLoad(),b.settings.keyboard&&b.keystrokes()},getWidth:function(){var b=this;b.milestone=[];var c=0;return b.$element.find("li").each(function(){var b=parseInt(a(this).outerWidth(!0),10);c+=b}),c},slideToNext:function(b,c){var d=a(b.currentTarget),e=this;(d.hasClass("next")||"right"==c)&&a(e.$currElem).next().length?(e.$currElem=a(e.$currElem).next(),e.slideToElem(e.$currElem)):(d.hasClass("prev")||"left"==c)&&a(e.$currElem).prev().length&&(e.$currElem=a(e.$currElem).prev(),e.slideToElem(e.$currElem))},slideToElem:function(a){var b=this;this.$element.find(".slide-js-list").stop().animate({scrollLeft:a.position().left},this.settings.transitionSpeed,function(){b.postSlide(a)})},postSlide:function(a){var b=this;if(b.disableArrows(),a.addClass("active").siblings().removeClass("active"),b.$dots){var c=a.data("slide-index")-1;b.$dots.find(".nav-dot:eq("+c+")").addClass("active").siblings().removeClass("active")}b.processloop(),b.currElemChanged||(b.$currElem=a),b.lazyLoad(),b.currElemChanged=!1},initElement:function(a){this.$slider.scrollLeft(a.position().left),this.postSlide(a)},disableArrows:function(){this.$arrowNav.children().removeClass("disabled"),this.$ul.position().left?this.$ul.position().left-this.$element.width()+this.totalWidth===0&&this.$arrowNav.find(".next").addClass("disabled"):this.$arrowNav.find(".prev").addClass("disabled")},listenToArrowEvents:function(){var a=this;a.$arrowNav=a.$element.find(".nav-arrow"),a.$arrowNav.children().click(function(b){a.slideToNext(b)})},listenToDotEvents:function(){var b=this;b.$dots=b.$element.find(".nav-dot-section"),b.$dotsChildren=b.$dots.children(),b.$dotsChildren.click(function(c){var d=a(c.currentTarget).index()+1;b.slideToElem(b.$ul.find('[data-slide-index="'+d+'"]').not(".-before,.-after"))})},initDots:function(){var a='<div class="nav-dot-section">'+new Array(this.length+1).join('<div class="nav-dot"></div>')+"</div>";this.$element.append(a)},addIds:function(){this.items.each(function(b,c){a(c).attr("data-slide-index",b+1)})},loop:function(){var a=this;a.content=a.$ul.html(),a.items.clone().addClass("-after").insertAfter(a.items.filter(":last")),a.items.filter(":first").before(a.items.clone().addClass("-before")),a.items=a.$ul.children()},processloop:function(){if(this.settings.loop){var a,b=this,c=b.items.filter(".active");b.$currElem.hasClass("-before")?(c.removeClass("active"),a=c.prevAll().length,c=b.$currElem=b.items.filter(":not(.-before):eq("+a+")").addClass("active"),b.$slider.scrollLeft(c.position().left),b.currElemChanged=!0):b.$currElem.hasClass("-after")&&(c.removeClass("active"),a=c.prevAll(".-after").length,c.removeClass("active"),b.$currElem=c=b.items.filter(":not(.-before):eq("+a+")").addClass("active"),b.$slider.scrollLeft(c.position().left),b.currElemChanged=!0)}},lazyLoad:function(){var b=this;if(b.settings.lazyLoad){var c=b.$currElem.prev().find("[data-slide-src]"),d=b.$currElem.find("[data-slide-src]"),e=b.$currElem.next().find("[data-slide-src]"),f=a.merge(c,d);f=a.merge(f,e),f.each(function(){var c=new Image;c.src=a(this).data("slide-src"),c.onload=function(){var d=b.$ul.find('[data-slide-src = "'+c.src+'"]');d.length&&d.each(function(){"IMG"==a(this).prop("tagName")?a(this).attr("src",c.src).removeAttr("data-slide-src"):a(this).css("background-image","url("+c.src+")").removeAttr("data-slide-src")})}})}},autoplay:function(){var a=this;a.play(),a.settings.pauseOnHover&&a.pauseOnHover()},pauseOnHover:function(){var a=this;a.$element.hover(function(){a.pause()},function(){a.cleared&&a.play()})},play:function(){var a=this;a.timeout=setTimeout(function(){var b={};b.currentTarget=a.$currElem,a.slideToNext(b,"right"),a.play()},a.settings.autoplaySpeed),this.cleared=!1},pause:function(){clearTimeout(this.timeout),this.cleared=!0},keystrokes:function(){var c=this,d={};d.currentTarget=c.$currElem,a(b).keydown(function(a){37===a.keyCode?c.slideToNext(d,"left"):39===a.keyCode&&c.slideToNext(d,"right")})}}),a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new c(this,b))})}}(jQuery,window,document);